<!DOCTYPE html>
<html lang="en">
  <head>
    <title>You're Covid Vaccine Experience</title>

    <style>
      /* Style for the Background of the webpage */
      body {
        background-color: #9a1bcc;
        font-family: Arial;
        text-align: center;
      }

      /* Style for the Form */
      form {
        background-color: #fff;
        max-width: 500px;
        margin: 50px auto;
        padding: 30px 20px;
        box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.5);
      }

       /* Style for the form-control Class */
       .form-control {
            text-align: left;
            margin-bottom: 25px;
        }
 
        /* Style for the form-control Label */
        .form-control label {
            display: block;
            margin-bottom: 10px;
        }

      /* Style for the form-control Radio
        button and Checkbox */
      .form-control input[type="radio"],
      .form-control input[type="checkbox"] {
        display: inline-block;
        width: auto;
      }

      /* Style for the Button */
      button {
        background-color: #9a1bcc;
        border: 1px solid #777;
        border-radius: 2px;
        font-family: inherit;
        font-size: 21px;
        display: block;
        width: 100%;
        margin-top: 50px;
        margin-bottom: 20px;
      }
    </style>
    
  </head>

  <body>
    <h1>Covid Vaccine Experience Survey</h1>

    <!-- Create Form  "action" will send the submit button to the result page-->
    <form onsubmit="return handleData()" id="form" action="site.php" method="post"> 
    <div style="visibility:hidden; color:red; " id="chk_option_error">
    </div>
        <div class="form-control">
            <label>
                1. *This Survey is Only for Vaccinated Particapants*
                Are you Vaccinated?
            </label>
 
            <!-- Input Type Radio Button -->
            <label for="answer-1">
                <input type="radio"
                       id="answer-1"
                       name="answer"
                       value="yes">Yes</input>
            </label>
            <label for="answer-2">
                <input type="radio"
                       id="answer-2"
                       name="answer"
                       value="no">No</input>
            </label>
        </div>

        <div class="form-control">
            <label>
                2. What is you're Age Group?
            </label>

            <!--Input Type Radio Button -->
            <label for="agegroup-1">
                <input type="radio"
                       id="agegroup-1"
                       name="agegroup"
                       value="5-12" required>5-12</input>
            </label>
            <label for="agegroup-2">
                <input type="radio"
                       id="agegroup-2"
                       name="agegroup"
                       value="12-19">12-19</input>
            </label>
            <label for="agegroup-3">
                <input type="radio"
                       id="agegroup-3"
                       name="agegroup"
                       value="20-49">20-49</input>
            </label>
            <label for="agegroup-4">
                <input type="radio"
                       id="agegroup-4"
                       name="agegroup"
                       value="50-69">50-69</input>
            </label>
            <label for="agegroup-5">
                <input type="radio"
                       id="agegroup-5"
                       name="agegroup"
                       value="70+">70+</input>
            </label>
        </div>
        
        <div class="form-control">
            <label for="Vaccine">
                3. Select Vaccine type:
                <small>(Click the Dropdown icon for more vaccines)</small>
            </label>

            <!--Input Type Dropdown -->
            <select name = "vaccines" id="vaccines">
                <option value="pfizer">Pfizer-BioNTech</option>
                <option value="maderna">Moderna</option>
                <option value="johnsone">Johnson & Johnson's Janssen</option>
            </select>
        </div>

        <div class="form-control">
            <label>
            4. Physical Side Effects Reported
            <small>(Check all that apply)</small>
            </label>
            <!-- Input Type Checkbox -->
            <label for="inp-1">
                <input type="checkbox"
                       name="inp[]" value="Pain" onclick="return PhysicalSideEffects();">Pain</input>
                    </label>
            <label for="inp-2">
                <input type="checkbox"
                       name="inp[]"value="Swelling" onclick="return PhysicalSideEffects();">Swelling</input>
                    </label>
            <label for="inp-3">
                <input type="checkbox"
                       name="inp[]"value="Redness" onclick="return PhysicalSideEffects();">Redness</input>
                    </label>
            <label for="inp-4">
                <input type="checkbox"
                       name="inp[]"value="Rash" onclick="return PhysicalSideEffects();">Rash</input>
                    </label>
            <label for="inp-5">
                <input type="checkbox"
                       name="inp[]"value="None" onclick="return PhysicalSideEffects();">None</input>
                    </label>
        </div>
        <div class="form-control">
            <label>
                5. Illness Side Effects Reported
                <small>(Check all that apply)</small>
            </label>
            <!--Input Type Checkbox -->
            <label for="inp-1">
                <input type="checkbox"
                       name="inps[]" value="Headache" onclick="return IllnessSideEffects();">Headache</input>
                    </label>
            <label for="inp-2">
                <input type="checkbox"
                       name="inps[]"value="Chills" onclick="return IllnessSideEffects();">Chills</input>
                    </label>
            <label for="inp-3">
                <input type="checkbox"
                       name="inps[]"value="Dirrahea" onclick="return IllnessSideEffects();">Dirrahea</input>
                    </label>
            <label for="inp-4">
                <input type="checkbox"
                       name="inps[]"value="Tiredness" onclick="return IllnessSideEffects();">Tiredness</input>
                    </label>
            <label for="inp-5">
                <input type="checkbox"
                       name="inps[]"value="Fever" onclick="return IllnessSideEffects();">Fever</input>
                    </label>
            <label for="inp-6">
                <input type="checkbox"
                       name="inps[]"value="Dizziness" onclick="return IllnessSideEffects();">Dizziness</input>
                    </label>
            <label for="inp-7">
                <input type="checkbox"
                       name="inps[]"value="Nausea" onclick="return IllnessSideEffects();">Nausea</input>
                    </label>
            <label for="inp-8">
                <input type="checkbox"
                       name="inps[]"value="None" onclick="return IllnessSideEffects();">None</input>
                    </label>
        </div>
        <input type="submit" value="Submit" onclick="return confirm('6. Are you sure what you have is true to your knowledge?\nAlso please make sure that you have answered all questions')">
        <!-- This function is to make sure that they do not select another ilness if they selected "None"-->
        <form>
            <script type="text/javascript">  
            
                function PhysicalSideEffects()  
                {  
                    var checkboxes = document.getElementsByName("inp[]");  // Gets the the different checkboxes 
                    var numberOfCheckedItems = 0;  //Holder for number of checked items
                    for(var i = 0; i < checkboxes.length; i++)  //Loops through counting how many are checked
                    {  
                        if(checkboxes[i].checked)  
                            numberOfCheckedItems++;  
                    }  
                    if(checkboxes[4].checked && (checkboxes[0].checked || checkboxes[1].checked || checkboxes[2].checked || checkboxes[3].checked))  
                    {  
                        alert("You can't select another Illness if you selected None!");  
                        return false;  
                    }
                   
                } 
                
                function IllnessSideEffects()
                {
                    var checkboxes= document.getElementsByName("inps[]");
                    var num = 0;
                    for(var j = 0; j < checkboxes.length; j++)
                    {

                        if(checkboxes[j].checked)
                            num++;
                    }
                    if(checkboxes[7].checked && (checkboxes[0].checked || checkboxes[1].checked || checkboxes[2].checked || checkboxes[3].checked
                    || checkboxes[4].checked || checkboxes[5].checked || checkboxes[6].checked))
                    {
                        alert("You can't select another Illness if you selected None!");  
                        return false;
                    }
                }
                //This function is to make sure that at least 1 checkbox is selected for questions 4 & 5
                function handleData()
                {
                    var form_data = new FormData(document.querySelector("form"));
                    
                    if(!form_data.has("inp[]"))
                    {
                        document.getElementById("chk_option_error").style.visibility = "visible";
                    return false;
                    }
                    else
                    {
                        document.getElementById("chk_option_error").style.visibility = "hidden";
                    return true;
                    }
                    
                }
            
                </script>
               
  </body>
</html>